中文搜索引擎的缺陷与改进

张春元　康耀红　王曙光　张莉
(海南大学 信息科学技术学院，海南 海口570228)

摘　要：简要介绍了现有中文搜索引擎的工作原理，分析了其存在的缺陷，然后针对这些缺陷提出了一种经过改进的中文搜索引擎结构体系，并对其中用到的改进策略进行了剖析。
关键词：中文搜索引擎；原理；缺陷；结构体系；改进策略
 
　　中文搜索引擎是利用自动搜索技术，对互联网上各种中文信息进行采集、标引、组织，并为用户提供检索服务的工具(中文搜索引擎的定义至今尚有分歧，此处仅以此定义说明本文所探讨的“中文搜索引擎”的内涵)。相对高速增长的网民数量和网上中文信息，中文搜索引擎的发展则显得较为滞后，还存在许多问题与缺陷急需研究与解决。本文将从中文搜索引擎的原理着手，分析当前其存在的问题与缺陷，探寻相应的改进策略。
1  中文搜索引擎的工作原理
   中文搜索引擎是一个十分复杂的应用系统，为了更清晰地说明其工作原理，下面将其分成页面采集模块、页面处理模块、数据组织模块、数据检索模块四个部分分别加以讨论。
1.1 页面采集模块的工作原理
　　页面采集模块通常又由管理子模块、Robot或Spider（以下统称Robot）程序、解析子模块、页面信息数据库等部分组成：管理子模模块负责向Robot程序提供遍历策略；Robot负责访问、采集网页；解析模块负责对所采集到的网页进行语法解析、剔除语法标记，将网页的页面信息送至页面信息数据库保存，同时判断所采集的网页是否是新增或更新的网页，若是则将此其文档内容提交给页面处理模块处理；若Robot无法采集访问此URL，则直接向数据组织模块发送删除此URL相关信息的指令。
　　互联网上中文信息资源非常丰富，但受数据库存储空间等因素的限制，搜索引擎只能遍历一定数量的网页。Robot遍历完规定数量的网页后即停止，同时清空URL队列，再由人工指定或按一定算法从页面信息数据库中提取一定数量的URL作为初始种子URL，开始新一轮周期的网页遍历。 
1.2 页面处理模块的工作原理
　　大多数中文搜索引擎的页面处理模块采用字表法[1](又称“单汉字标引法”[2])对网页的文档内容进行标引。字表法的标引原理是：以单汉字作为标引词，依次读入网页文档内容中的字，通过禁用字典剔除禁用字；再确定每个非禁用字在文档中的位置，建立包括文档编号、字符具体位置的标引记录，生成一个临时表单，最后将此表单提交至数据组织模块处理。
　　另外，也有少数中文搜索引擎采用抽词法标引[3]，这种方法要求先对网页内容进行分词处理，然后按一定规则从中抽取反映网页内容的关键词，生成一个以关键词为核心内容的临时表单。抽词法标引实现起来难度较大，现有中文搜索引擎较少采用。
1.3 数据组织模块的工作原理	
　　数据组织模块对页面处理模块提交的表单数据通常采用倒排文档进行组织。倒排文档以字还是以词作为索引来组织表单数据，与页面处理模块采用何种标引方法有直接关系：若采用字表法标引，索引数据库就以字为索引来组织数据；若采用抽词法标引，索引数据库则以关键词为索引来组织数据。数据组织模块除了对索引数据库进行及时的更新、添加外，同时还对页面采集模块提交的URL删除信息加以处理，以保证索引数据库和它对应的网页之间的链接可靠。不少大型中文搜索引擎还采用了索引数据库缓存机制来提高检索的性能，即以用户的高频查询项为索引来组织数据，并将这些数据置于索引数据库的缓存中，可以大幅加快查询的响应速度且获得较高的匹配成功率[4]。 
1.4 数据检索模块的工作原理
　　数据检索模块首先将用户输入的查询项转化成计算机可执行的规范化检索式，再按一定的检索策略先后在索引数据库的缓存、索引数据库中进行匹配，如果仍然没有匹配成功，有的中文搜索引擎还会将用户查询项交给第三方搜索引擎处理或者检索第三方索引数据库，最后将检索到的结果按一定的排序策略进行组织并返回给用户。
　　中文搜索引擎的检索策略在很大程度上受搜索引擎的页面处理方法影响：采用字表法标引页面的中文搜索引擎，检索时采用全文检索方式；采用抽词法标引页面的中文搜索引擎，检索时采用主题检索方式，其关键词一般能比较准确地反映文档的主题。
　　不同的中文搜索引擎对检索结果的排序策略多不相同，这使得同一个查询项应用不同的中文搜索引擎返回的查询结果排序差异非常明显。
2  中文搜索引擎的缺陷分析
　　现有中文搜索引擎的问题与缺陷具体表现在如下几个方面：（1）检准率低；（2）排序方式单一且不尽合理；（3）索引数据库更新周期过长；（4）网页的采集质量不高；（5）不支持自然语言检索。造成这些问题与缺陷的原因是多方面的，下面系统地对各模块存在的问题与缺陷加以分析。
2.1 页面采集模块的缺陷分析
　　页面采集模块所采集到的网页是整个中文搜索引擎的信息来源。页面采集模块的采集周期及采集到的网页的数量、质量将直接影响索引数据库的更新速度、规模、质量。
　　不少中文搜索引擎为了提高检全率，过分追求Robot遍历网页的数量，使得许多新发布的网页可能要在很长时间以后才被采集到，这就是索引据库更新周期过长的直接原因。例如：按深度优先策略刚遍历完某网站，则此网站随后发布的新页面或更新的页面通常需要到下一个周期才可能被Robot采集到。
　　现有页面采集模块通过设定初始种子URL、采用广度优先遍历策略等办法只能在一定程度上提高网页的采集质量。因为通过设定初始种子URL的办法只是在Robot遍历的初期有效，新添加的URL随机性很强，所以一段时间以后Robot的遍历路径实际上是不可控的。网站通常将质量高的网页放在层数较浅的目录上[4]，采用广度优先策略在一定程度上确实较深度优先策略更易于采集到质量高的网页。但采用广度优先策略会带来如下问题：第一、使得目录型网页(如大型网站的主页)在所采集到的网页中所占比例大幅提高，内容型网页所占比例下降；第二、专业性的垂直门户搜索引擎认定的高质量网页必须是该专业领域内的网页，这些网页通常处于网站的较深位置，经常因为采集深度不够而采集不到。另外，用户是网页质量好坏的直接评判者，许多中文搜索引擎并没有很好地利用用户行为信息建立相应的反馈机制，以控制或引导Robot的遍历路径，这显然是不合理的。
2.2 页面处理模块的缺陷分析
　　用字表法对网页文档内容进行标引，可以避开令人棘手的分词问题，大幅提高标引速度。但字表法没有充分考虑中文信息所特有的语言特性，会导致如下问题：第一、无法提取有效的关键词来表达网页内容；第二、不能对网页内容进行有效分类，导致不能针对用户的具体类型返回相应的查询结果；第三、用户检索时采用全文检索方式，这种方式只要网页中有与查询项相关的字符，就机械地将此网页作为结果返回，而网页实际表达的主题与查询项可能完全不相关，使得检准率大大降低；第四、加重了检索时系统的开销。
　　抽词法标引要求预先对网页的文档内容进行分词处理，其抽取的关键词虽然能较好地反映网页的内容，但由于分词技术存在一定问题，制约了其在中文搜索引擎中的应用。常用的分词方法有语义分词、词频分词、词典分词三种，存在的主要问题是：语义分词方法至今仍不成熟；词频分词方法针对有的网页文档不适用，例如目录型网页或内容过少的网页，多数词的词频为1，这时就无法根据词频分词；词典分词方法虽然可行，但互联网上每天都有不少新词出现，对词典的维护要求比较高，分词耗时较长，使得标引速度大大降低。
2.3 数据组织模块的缺陷分析
　　现有数据组织模块组织的数据仅限于网上数据，对非Web中文信息的组织、利用没有充分考虑，限制了搜索引擎的使用范围。如我国有许多优秀的联机检索系统、光盘检索系统数据库，这些非Web资源都是质量非常高的专业性资源，对某些专业性的垂直门户搜索引擎具有很高的利用价值。其实，只要建立相应的数据库访问接口，许多非Web中文信息资源完全可以通过互联网获取并以非Web形式查看[5]。
2.4 数据检索模块的缺陷分析
　　数据检索模块是与用户直接交互的窗口，问题与缺陷比较直观。下面主要就四个方面的问题与缺陷加以分析：
　　第一：数据检索模块与用户的交互不够。Gray Cullis将搜索引擎使用的4种信息――网页本身信息、超链信息、人工编辑产生的目录信息和用户行为信息进行了比较，发现用户行为信息的利用对提高检索的准确率和召回率最有优势[4]。尽管有的搜索引擎通过日志文件记录了大量的用户行为信息，但并没有有效地利用这些信息建立相应的反馈机制，以指导检索模块与用户的交互。
　　第二：检准率低且不能根据用户类型返回相应结果。造成这个问题的直接原因是现有大型中文搜索引擎几乎都采用字表法标引网页的文档内容以及全文检索方式进行检索，这在2.2节已经作了论述。
   第三：大多数中文搜索引擎只支持基于关键词的查询方式而不支持自然语言查询。事实上，自然语言查询更符合用户的使用习惯。造成这个问题的原因除了与页面处理模块采用了字表法标引有关外，另一个原因就是因为没有建立相应的自然语言解析转化模块，将自然语言自动转化为检索处理子模块能够使用的关键词。
　　第四：查询结果排序不合理。大多数中文搜索引擎并没有对目录型、内容型网页分类组织，加上全文检索方式检索本身存在缺陷，另外，排序时又过多地考虑网页的入度、镜像度等并不能直接反映网页实际内容的因素，从而使得查询结果排序过于粗糙。
　　
3 中文搜索引擎的改进
　　图1是改进后的中文搜索引擎结构体系，本结构体系主要针对当前的中文搜索引擎在数据更新速度、网页采集质量控制、网页分类处理、非Web资源利用、用户行为信息利用、检索排序等方面存在的问题与缺陷作了较大改进。下面具体讨论图1中所涉及的改进策略。
3.1 页面采集模块的改进
　　针对Robot遍历周期长的缺陷，本结构体系增设了智能代理Robot子模块和受控URL队列。管理子模块根据受控URL队列产生指令驱动智能代理Robot，后者每访问完一个受控的URL便自行停止并等待指令。由于受控的URL数量很小，因此遍历受控URL队列的周期很短，这样对受控URL队列可以在一天内实行数次更新。一般门户网站的网页更新速度快、内容全，因而可以选择一些权威且具有互补性的门户网站或官方网站URL作为受控的URL；另外通过用户行为监控模块统计出一部分用户高频点击的URL，将它们添加到受控URL队列中，使受控URL分布更合理。通过这种办法，可以在一定程度上解决索引数据库更新慢的问题。
　　另外,本结构体系对分布式Robot的遍历策略作了调整，以便能够在最短时间内把最重要的网页抓取过来。对于综合性的门户搜索引擎而言，采用广度优先遍历策略；对于专业性垂直门户搜索引擎而言，采用深度优先遍历策略。在这个大前提下，再利用网页的入度、镜像度、目录深度、网站热度（使用用户行为监控模块统计的URL点击情况来评价）等网页参数对遍历URL队列进行排序，重要的网页优先采集，以提高网页的采集质量。
　　





























                                     	
　　　　　　　　　　　　　　　　　　用  户
图1   改进后的中文搜索引擎结构体系
3.2 页面处理模块的改进
　　图1中页面处理模块的改进策略是充分利用字表法和抽词法各自的优点，对内容型网页采用基于词频分词的抽词法标引，对目录型网页采用字表法标引。
　　采用基于词频分词的抽词法标引内容型网页，一方面保证了页面处理的速度；另一方面在一定程度上解决了字表法标引无法准确反映网页主题的缺陷，为提高搜索引擎的检准率铺平了道路。但是要较好地实现词频分词方法需作两点改进：第一、设定一个网页长度阈值，只处理阈值以上的网页，阈值以下的网页丢弃；第二、将不易切分的字段词频设置为1，抽词时只抽取中频词，这一点是基于Luhn对词分辨力（即词对文档的区分能力）与词频的关系的研究成果改进的。Luhn的研究表明：较高频词与低频词而言，中频词的分辩力更强[3]。采用这两点改进，可以较好地解决词频分词方法无法对低频字段切分这一问题，同时还可提高搜索引擎所覆盖的网页的质量。
　　采用字表法标引网页的最大缺陷是没有考虑汉语的语言特性，但这种方法具有速度快、易于实现等优点，用来标引在网上中起导航作用的目录型网页还是可行的。原因是：目录型网页大多由标题或目录组成，没有实际内容，但标题或目录通常富含有大量关键词，采用字表法处理对搜索引擎的检准率影响不大。
3.3 数据组织模块的改进	
　　改进后的网页数据组织子模块在原有数据组织模块的基础上增加了对索引记录分类的功能。除了对网页数据按目录型和内容型进行大的分类组织外，还对内容型网页数据进行了细化分类组织（如娱乐类、科技类等），使得中文搜索引擎能向用户提供一定的个性化服务。
　　另外，在图1增设了一个非Web资源数据库访问子模块，扩大了中文搜索引擎的资源利用范围。弥补了专业性垂直门户搜索引擎覆盖面窄的缺陷， 
3.4 数据检索模块的改进
　　改进的数据检索模块增设了用户行为监控子模块、用户行为信息数据库，用于记录和分析用户行为，并将分析结果用于指导和优化网页采集、检索与排序，使得中文搜索引擎具有一定的智能，提高其与用户的交互能力，从而使搜索趋于个性化。
　　另外，改进后的数据检索模块支持自然语言查询。自然语言解析子模块的设计思想是：首先对自然语言查询项进行分词处理，从中提取关键词，并根据自然语言查询项的语义对关键词赋以相应权值；再对常用关键词进行近义词匹配；最后形成规范化的关键词提交至检索处理子模块处理。同时，数据检索模块对具体的检索策略也进行了改进：目录型网页依然采用全文检索方式，而内容型网页采用主题检索方式。通过这些方面的改进，数据检索模块可初步实现加权检索、概念检索，还可以实现分类检索。 
　　为了使排序结果更合理，改进后的排序策略主要在两方面作了调整：第一、引入了用户行为监控信息，可根据用户监控子模块返回的URL点击次数计算网页的点击热度，指导排序；第二、由于对内容型网页实现的是主题检索，因此对此类网页将不再根据关键词在网页中出现的次数、位置来指导排序，而是根据相关度的大小来指导排序。以这两点为基础再适度考虑网页的新鲜度（发布时间的先后）、入度、镜像度等因素对排序的影响。
4　结束语
　　本文提出了一种经过改进的中文搜索引擎结构体系，能较好地克服中文搜索引擎存在的问题与缺陷。该结构体系采用了智能代理、基于词频的自动分词和抽词标引等技术，设置了非Web资源访问接口以及建立了用户行为信息反馈机制，对开发智能化、个性化的中文搜索引擎具有一定的参考价值。
　　
参考文献：
[1] 李志蜀, 李果. 中文搜索引擎的原理剖析及开发实现技术[J]. 计算机应用研究, 2001, 18(11): 96－99
[2] 储荷婷, 张晓林, 王芳. Internet网络信息检索――原理 工具 技巧[M]. 北京: 清华大学出版社, 1999.
[3] 康耀红. 现代情报检索理论[M]. 北京: 科学技术文献出版社, 1990.
[4] 王建勇, 单松巍, 雷鸣等. 海量Web搜索引擎系统中用户行为的分布特征及启示[J]. 中国科学（E辑），2001, 31(4): 372－384
[5] 乔冬梅. 搜索引擎现状与发展研究[D]. 郑州: 郑州大学, 2002.

Shortcomings and Improvements of Chinese Search Engine
ZHANG Chun-yuan, KANG Yao-hong, Wang Shu-guang, ZHANG Li
(The  Institute  of  Information  Science  and  Technology,  Hainan  University ,  Haikou  570228 ,  China)
Abstract : The principle and shortcomings of the current Chinese search engine are analyzed in detail, and then, a kind of improved Chinese search engine model is put forward，in which the strategy is discussed.
Key words: Chinese Search Engine；Principle；Shortcomings；Framework；Improved Strategy



5


作者简介：张春元（1973－），男，湖北武汉人，硕士研究生


